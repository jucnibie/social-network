<ng-template [ngIfElse]="showUpload" [ngIf]="!isShowUpload">
  <div class="prepare-upload">
    <label for="select-image">
      <img alt="" src="https://img.icons8.com/fluent/144/fa314a/add-image.png"/>
    </label>
    <input (change)="fileChangeEvent($event)" *ngIf="!isShowUpload"
           hidden
           id="select-image" type="file"/>
  </div>
</ng-template>
<ng-template #showUpload>

  <!--  Menu Cropper-->
  <div class="menu-crop-image">
    <div class="menu-child">
      <label for="input-file">
        <svg fill="none" height="40" viewBox="0 0 44 44" width="40" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M35.6667 0.25H2.33333C1.18229 0.25 0.25 1.18229 0.25 2.33333V33.5833C0.25 34.7344 1.18229 35.6667 2.33333 35.6667H35.6667C36.8177 35.6667 37.75 34.7344 37.75 33.5833V2.33333C37.75 1.18229 36.8177 0.25 35.6667 0.25Z"
            fill="#50E6FF"/>
          <path
            d="M27.401 18.026C26.2042 16.8291 24.2708 16.8031 23.0417 17.9666L12.75 27.7166V37.7499H35.6667C36.8177 37.7499 37.75 36.8176 37.75 35.6666V28.3749L27.401 18.026Z"
            fill="url(#paint0_linear)"/>
          <path
            d="M25.7708 12.7499C27.7844 12.7499 29.4167 11.1176 29.4167 9.10409C29.4167 7.09055 27.7844 5.45825 25.7708 5.45825C23.7573 5.45825 22.125 7.09055 22.125 9.10409C22.125 11.1176 23.7573 12.7499 25.7708 12.7499Z"
            fill="#FFF8DE"/>
          <path
            d="M2.33333 37.7501H35.6667C36.5115 37.7501 37.2365 37.2449 37.5625 36.5209L14.901 13.8595C13.7042 12.6626 11.7708 12.6366 10.5417 13.8001L0.25 23.5501V35.6668C0.25 36.8178 1.18229 37.7501 2.33333 37.7501Z"
            fill="url(#paint1_linear)"/>
          <path
            d="M37.7502 37.7499V21.8093C36.445 21.3478 35.047 21.0833 33.5835 21.0833C26.6804 21.0833 21.0835 26.6801 21.0835 33.5833C21.0835 35.0468 21.3481 36.4447 21.8095 37.7499H37.7502Z"
            fill="url(#paint2_radial)"
            opacity="0.3"/>
          <path
            d="M33.5832 44.0001C39.3361 44.0001 43.9998 39.3364 43.9998 33.5834C43.9998 27.8304 39.3361 23.1667 33.5832 23.1667C27.8302 23.1667 23.1665 27.8304 23.1665 33.5834C23.1665 39.3364 27.8302 44.0001 33.5832 44.0001Z"
            fill="url(#paint3_linear)"/>
          <path
            d="M34.104 38.7917H33.0623C32.7748 38.7917 32.5415 38.5583 32.5415 38.2708V28.8958C32.5415 28.6083 32.7748 28.375 33.0623 28.375H34.104C34.3915 28.375 34.6248 28.6083 34.6248 28.8958V38.2708C34.6248 38.5583 34.3915 38.7917 34.104 38.7917Z"
            fill="white"/>
          <path
            d="M28.375 34.1042V33.0626C28.375 32.7751 28.6083 32.5417 28.8958 32.5417H38.2708C38.5583 32.5417 38.7917 32.7751 38.7917 33.0626V34.1042C38.7917 34.3917 38.5583 34.6251 38.2708 34.6251H28.8958C28.6083 34.6251 28.375 34.3917 28.375 34.1042Z"
            fill="white"/>
          <defs>
            <linearGradient gradientUnits="userSpaceOnUse" id="paint0_linear" x1="12.75" x2="37.75" y1="27.4301"
                            y2="27.4301">
              <stop stop-color="#3CCBF4" offset=""/>
              <stop offset="1" stop-color="#1FA0E5"/>
            </linearGradient>
            <linearGradient gradientUnits="userSpaceOnUse" id="paint1_linear" x1="18.9063" x2="18.9063" y1="12.9438"
                            y2="37.7501">
              <stop stop-color="#28AFEA" offset=""/>
              <stop offset="1" stop-color="#0B88DA"/>
            </linearGradient>
            <radialGradient cx="0" cy="0" gradientTransform="translate(33.5814 33.6166) scale(12.6937)"
                            gradientUnits="userSpaceOnUse" id="paint2_radial"
                            r="1">
              <stop offset="0.348"/>
              <stop offset="0.936" stop-opacity="0.098"/>
              <stop offset="1" stop-opacity="0"/>
            </radialGradient>
            <linearGradient gradientUnits="userSpaceOnUse" id="paint3_linear" x1="23.1665" x2="43.9998" y1="33.5834"
                            y2="33.5834">
              <stop stop-color="#21AD64" offset=""/>
              <stop offset="1" stop-color="#088242"/>
            </linearGradient>
          </defs>
        </svg>
      </label>
      <input (change)="fileChangeEvent($event)" hidden id="input-file" type="file"/>
    </div>

    <div class="menu-child">
      <div class="child">
        <!--        Rotate Left-->
        <button (click)="rotateLeft()" class="btn">
          <svg fill="none" height="24" viewBox="0 0 32 32" width="24" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M3.19719 0V8H11.198L8.69772 5.5C10.7686 4.05662 13.2749 3.2 15.9984 3.2C23.0882 3.2 28.7997 8.91093 28.7997 16C28.7997 23.0891 23.0882 28.8 15.9984 28.8C15.0463 28.8 14.098 28.6534 13.1763 28.4438L12.4762 31.6063C13.6251 31.8687 14.8095 32 15.9984 32C24.8174 32 32 24.8181 32 16C32 7.18187 24.8174 0 15.9984 0C12.4032 0 9.07238 1.19148 6.3975 3.2L3.19719 0ZM0 16C0.0192019 17.2048 0.166966 18.4588 0.443793 19.6156L3.5566 18.8531C3.33578 17.9267 3.21319 16.968 3.19719 16H0ZM4.52544 21.5531L1.65954 22.9938C2.18439 24.0658 2.8312 25.0844 3.57847 26.0156L6.05997 23.9688C5.46151 23.2232 4.94628 22.4123 4.52544 21.5531ZM8.08516 25.9875L6.10685 28.5313C7.03974 29.2753 8.05234 29.9161 9.11964 30.4313L10.4948 27.5031C9.64349 27.0919 8.83244 26.5827 8.08516 25.9875Z"
              fill="black"/>
          </svg>
        </button>
        <!--        Rotate Right-->
        <button (click)="rotateRight()" class="btn">
          <svg fill="none" height="24" viewBox="0 0 32 32" width="24" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M16 0C7.18187 0 0 7.18187 0 16C0 24.8181 7.18187 32 16 32C17.1888 32 18.3731 31.8687 19.5219 31.6063L18.8219 28.4438C17.9003 28.6534 16.952 28.8 16 28.8C8.91093 28.8 3.2 23.0891 3.2 16C3.2 8.91093 8.91093 3.2 16 3.2C18.7242 3.2 21.2296 4.05572 23.3 5.5L20.8 8H28.8V0L25.6 3.2C22.9254 1.19148 19.5949 0 16 0ZM28.8 16C28.784 16.968 28.6614 17.9267 28.4406 18.8531L31.55 19.6156C31.8268 18.4588 31.9777 17.2048 31.9969 16H28.8ZM27.4719 21.5531C27.0511 22.4107 26.5328 23.2232 25.9344 23.9688L28.4188 26.0156C29.166 25.0844 29.8127 24.0658 30.3375 22.9938L27.4719 21.5531ZM23.9094 25.9875C23.1638 26.5827 22.3528 27.0919 21.5 27.5031L22.8781 30.4313C23.9437 29.9161 24.9578 29.2753 25.8906 28.5313L23.9094 25.9875Z"
              fill="black"/>
          </svg>
        </button>
      </div>
      <div class="child">
        <!--        Flip Vertical-->
        <button (click)="flipVertical()" class="btn">
          <svg fill="none" height="24" viewBox="0 0 33 32" width="24" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M30.798 0C30.5144 0 30.2309 0.0911399 29.9249 0.243038L0.90432 13.6101C-0.391883 14.2076 -0.28049 14.7038 1.14736 14.7038H29.6638C31.0917 14.7038 32.2562 13.5392 32.2562 12.1114V1.74177C32.2562 0.673417 31.6436 0.00506297 30.798 0ZM1.14736 17.2962C-0.28049 17.2962 -0.391883 17.7924 0.90432 18.3899L29.9069 31.757C30.2258 31.9038 30.5195 32 30.798 32C31.6486 32 32.2562 31.3316 32.2562 30.2582V19.8886C32.2562 18.4608 31.0917 17.2962 29.6638 17.2962H1.14736ZM10.3423 19.8886H29.6638V28.8L10.3423 19.8886Z"
              fill="black"/>
          </svg>
        </button>
        <!--        Flip Horizontal-->
        <button (click)="flipHorizontal()" class="btn">
          <svg fill="none" height="24" viewBox="0 0 32 32" width="24" xmlns="http://www.w3.org/2000/svg">
            <path d="M14.6667 0L0 32H14.6667V0ZM17.3333 0V32H32L17.3333 0ZM12 12.25V29.3333H4.125L12 12.25Z"
                  fill="black"/>
          </svg>
        </button>
      </div>
    </div>

    <div class="menu-child">
      <div class="child">
        <button (click)="zoomOut()" class="btn">
          <svg fill="none" height="24" viewBox="0 0 36 36" width="24" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M12.6 0C5.66253 0 0 5.66253 0 12.6C0 19.5375 5.66253 25.2 12.6 25.2C15.7464 25.2 18.621 24.0264 20.8336 22.1062L21.6 22.8727V25.2L32.4 36L36 32.4L25.2 21.6H22.8727L22.1062 20.8336C24.0264 18.621 25.2 15.7464 25.2 12.6C25.2 5.66253 19.5375 0 12.6 0ZM12.6 3.6C17.5919 3.6 21.6 7.60812 21.6 12.6C21.6 17.5919 17.5919 21.6 12.6 21.6C7.60812 21.6 3.6 17.5919 3.6 12.6C3.6 7.60812 7.60812 3.6 12.6 3.6ZM7.2 10.8V14.4H18V10.8H7.2Z"
              fill="black"/>
          </svg>
        </button>
        <button (click)="zoomIn()" class="btn">
          <svg fill="none" height="24" viewBox="0 0 36 36" width="24" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M12.6 0C5.66253 0 0 5.66253 0 12.6C0 19.5375 5.66253 25.2 12.6 25.2C15.7464 25.2 18.621 24.0264 20.8336 22.1062L21.6 22.8727V25.2L32.4 36L36 32.4L25.2 21.6H22.8727L22.1062 20.8336C24.0264 18.621 25.2 15.7464 25.2 12.6C25.2 5.66253 19.5375 0 12.6 0ZM12.6 3.6C17.5919 3.6 21.6 7.60812 21.6 12.6C21.6 17.5919 17.5919 21.6 12.6 21.6C7.60812 21.6 3.6 17.5919 3.6 12.6C3.6 7.60812 7.60812 3.6 12.6 3.6ZM10.8 7.2V10.8H7.2V14.4H10.8V18H14.4V14.4H18V10.8H14.4V7.2H10.8Z"
              fill="black"/>
          </svg>
        </button>
      </div>
      <div class="child">
        <input (keyup)="updateRotation()" [(ngModel)]="rotation" placeholder="Rotation" type="number"/>
      </div>
    </div>

    <div class="menu-child">
      <div class="child">
        <button (click)="toggleContainWithinAspectRatio()"
                class="toggle">{{containWithinAspectRatio ? 'Fill Aspect Ratio' : 'Contain Within Aspect Ratio'}}</button>
      </div>
      <div class="child">
        <select [(ngModel)]="ratio" [disabled]="disableRatio" id="aspect-ratio-selection" name="aspect-ratio">
          <option [value]="1">1:1</option>
          <option [value]="4/3">4:3</option>
        </select>
        <button (click)="resetImage()">
          <svg fill="none" height="40" viewBox="0 0 40 40" width="40" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M0 20C0 8.95607 8.95607 0 20 0C31.0439 0 40 8.95607 40 20C40 31.0439 31.0439 40 20 40C8.95607 40 0 31.0439 0 20Z"
              fill="#357180"/>
            <path
              d="M32.3094 13.672C32.1079 13.277 31.1244 12.3822 29.4638 13.1964C27.8032 14.0106 28.6093 15.8002 28.6093 15.8002C29.23 17.0658 29.5767 18.4926 29.5767 19.992C29.5767 25.2802 25.2881 29.5688 19.9999 29.5688C14.7117 29.5688 10.4231 25.2802 10.4231 19.992C10.4231 15.0424 14.1796 10.9715 19.0003 10.4636V12.9465C19.0003 12.9465 18.9922 13.0916 19.1454 13.1883C19.2985 13.285 19.4517 13.1883 19.4517 13.1883L27.4001 8.50472C27.4001 8.50472 27.5775 8.40798 27.5775 8.23063C27.5775 8.07747 27.4001 7.97267 27.4001 7.97267L19.484 3.31326C19.484 3.31326 19.3066 3.18428 19.1454 3.24877C18.9842 3.31326 19.0083 3.53091 19.0083 3.53091V6.19113C11.8338 6.70705 6.1748 12.6885 6.1748 19.992C6.1748 27.6341 12.3739 33.8332 20.016 33.8332C27.6581 33.8332 33.8572 27.6341 33.8572 19.992C33.8411 17.7187 33.2848 15.5664 32.3094 13.672Z"
              fill="#F7F7F7"/>
          </svg>
        </button>
      </div>
    </div>


  </div>

  <!--  Cropper Container-->
  <div class="img-cropper-container">
    <image-cropper
      (cropperReady)="cropperReady($event)"
      (imageCropped)="imageCropped($event)"
      (imageLoaded)="imageLoaded()"
      (loadImageFailed)="loadImageFailed()"
      [alignImage]="'left'"
      [aspectRatio]="ratio"
      [canvasRotation]="canvasRotation"
      [containWithinAspectRatio]="containWithinAspectRatio"
      [cropperMinWidth]="128"
      [imageChangedEvent]="imageChangedEvent"
      [maintainAspectRatio]="true"
      [onlyScaleDown]="true"
      [resizeToHeight]="1080"
      [roundCropper]="false"
      [style.display]="showCropper ? null : 'none'"
      [transform]="transform"
      format="jpeg"
    ></image-cropper>
    <button (click)="pushToListCroppedImage()" class="done-btn"><img
      alt="" src="https://img.icons8.com/material/48/4a90e2/checkmark--v1.png"/></button>
  </div>

  <div class="list-cropped-img">
    <div *ngFor="let imgDATA of listCroppedImage" class="card">
      <div class="actions">
        <button (click)="deleteThisImage(imgDATA)" class="btn"><app-svg-icon [name]="'delete'"></app-svg-icon></button>
        <button (click)="editThisImage(imgDATA)" class="btn"><app-svg-icon [name]="'edit'"></app-svg-icon></button>
      </div>
      <img [src]="imgDATA" alt="" class="cropped-img"/>
    </div>
  </div>
</ng-template>
